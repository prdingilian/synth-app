(this["webpackJsonpsynth-app"]=this["webpackJsonpsynth-app"]||[]).push([[0],{13:function(e,a,t){},14:function(e,a,t){},15:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(6),r=t.n(l),o=(t(13),t(1)),s=t(2);var u=function(e){var a,t=e.name,l=e.color,r=Object(n.useContext)(D),o=Object(n.useContext)(x),s=o.VCO1,u=o.VCO2,i=o.VCO3;switch(t){case"VCO1":a=s;break;case"VCO2":a=u;break;case"VCO3":a=i}return c.a.createElement("div",{className:"container",style:{backgroundColor:l}},c.a.createElement("div",{className:"label"},"VCO"),c.a.createElement("div",{className:"rowOneKnobHalfOne"},c.a.createElement("input",{className:"slider",type:"range",name:"detune",id:"detune",min:"0",value:a.detune,max:"50",onChange:function(e){r({type:"update-module",payload:{module:t,property:"detune",value:parseInt(e.currentTarget.value)}})}}),c.a.createElement("label",{htmlFor:"gain"},"Detune")),c.a.createElement("div",{className:"rowOneKnobHalfTwo"},c.a.createElement("input",{className:"slider",type:"range",name:"shape",id:"shape",min:"0",step:"25",value:a.shape,max:"75",onChange:function(e){r({type:"update-module",payload:{module:t,property:"shape",value:parseInt(e.currentTarget.value)}})}}),c.a.createElement("label",{htmlFor:"gain"},"Shape")),c.a.createElement("div",{className:"rowTwoKnobHalfOne"},c.a.createElement("input",{className:"slider",type:"range",name:"octave",id:"octave",min:"1",step:"1",value:5-a.octave,max:"4",onChange:function(e){r({type:"update-module",payload:{module:t,property:"octave",value:5-e.currentTarget.value}})}}),c.a.createElement("label",{htmlFor:"octave"},"Pitch")))};var i=function(e){var a=e.color,t=Object(n.useContext)(D),l=Object(n.useContext)(x).VCF;return c.a.createElement("div",{className:"container",style:{backgroundColor:a}},c.a.createElement("div",{className:"label"},"VCF"),c.a.createElement("div",{className:"rowOneKnobFull"},c.a.createElement("input",{className:"slider",type:"range",name:"frequency",id:"frequency",min:"100",value:l.frequency,max:"9000",onChange:function(e){t({type:"update-module",payload:{module:"VCF",property:"frequency",value:e.currentTarget.value}})}}),c.a.createElement("label",{htmlFor:"frequency"},"Frequency")),c.a.createElement("div",{className:"rowTwoKnobFull"},c.a.createElement("input",{className:"slider",type:"range",name:"resonance",id:"resonance",min:"0",value:l.resonance,max:"25",onChange:function(e){t({type:"update-module",payload:{module:"VCF",property:"resonance",value:e.currentTarget.value}})}}),c.a.createElement("label",{htmlFor:"resonance"},"Resonance")))};var m=function(e){var a=e.color,t=Object(n.useContext)(D),l=Object(n.useContext)(x).VCA;return c.a.createElement("div",{className:"container",style:{backgroundColor:a}},c.a.createElement("div",{className:"label"},"VCA"),c.a.createElement("div",{className:"rowOneKnobFull"},c.a.createElement("input",{className:"slider",type:"range",name:"gain",id:"gain",min:"0",value:l.gain,max:"10",onChange:function(e){t({type:"update-module",payload:{module:"VCA",property:"gain",value:e.currentTarget.value}})}}),c.a.createElement("label",{htmlFor:"gain"},"Gain")))};var d=function(e){var a=e.color,t=Object(n.useContext)(D),l=Object(n.useContext)(x).Delay;return c.a.createElement("div",{className:"container",style:{backgroundColor:a}},c.a.createElement("div",{className:"label"},"Delay"),c.a.createElement("div",{className:"rowOneKnobFull"},c.a.createElement("input",{className:"slider",type:"range",name:"feedback",id:"feedback",min:"0",value:10*l.feedback,max:"9",onChange:function(e){t({type:"update-module",payload:{module:"Delay",property:"feedback",value:e.currentTarget.value/10}})}}),c.a.createElement("label",{htmlFor:"feedback"},"Feedback")),c.a.createElement("div",{className:"rowTwoKnobFull"},c.a.createElement("input",{className:"slider",type:"range",name:"time",id:"time",min:"0",value:10*l.time,max:"9",onChange:function(e){t({type:"update-module",payload:{module:"Delay",property:"time",value:e.currentTarget.value/10}})}}),c.a.createElement("label",{htmlFor:"time"},"Time")))};var p=function(){return c.a.createElement("div",{className:"rackContainer"},c.a.createElement("div",{className:"rackSlot"},c.a.createElement(u,{name:"VCO1",color:"coral"})),c.a.createElement("div",{className:"rackSlot"},c.a.createElement(u,{name:"VCO2",color:"paleturquoise"})),c.a.createElement("div",{className:"rackSlot"},c.a.createElement(u,{name:"VCO3",color:"#89edb7"})),c.a.createElement("div",{className:"rackSlot"},c.a.createElement(i,{color:"aliceblue"})),c.a.createElement("div",{className:"rackSlot"},c.a.createElement(d,{color:"cornsilk"})),c.a.createElement("div",{className:"rackSlot"},c.a.createElement(m,{color:"lavender"})))},v=t(7),b=[0,1,2,3,4,5,6,7],O=[0,1,2,3,4,5,6,7];var f=function(e){var a=e.steps,t=e.setOscSteps,n=e.clock,l=e.color,r=e.setOscClockDivide,o=e.clockDivide,s=e.scale,u=e.setOscScale;return c.a.createElement("div",{className:"allSeq"},c.a.createElement("div",{className:"seqParams"},c.a.createElement("div",null,c.a.createElement("input",{className:"slider sliderFull",type:"range",name:"clockDivide",id:"clockDivide",min:"0",value:o,max:"16",step:"4",onChange:function(e){r(parseInt(e.target.value))}}),c.a.createElement("label",{htmlFor:"clockDivide"},"Clock")),c.a.createElement("div",null,c.a.createElement("input",{className:"slider sliderFull",type:"range",name:"scale",id:"scale",min:"0",value:s,max:"1",step:"1",onChange:function(e){u(parseInt(e.target.value))}}),c.a.createElement("label",{htmlFor:"scale"},"Scale"))),c.a.createElement("div",{className:"seqContainer"},b.map((function(e,r){return O.map((function(e,o){return c.a.createElement("div",{onClick:function(){return function(e,n){var c=Object(v.a)(a);c[n]===b.length-1-e?c[n]=-1:c[n]=b.length-1-e,t(c)}(r,o)},style:{backgroundColor:a[o]>=b.length-1-r?l:"white",border:(n-1)%8===o?"1px solid blue":"1px solid lightgrey",opacity:(n-1)%8===o?"1":"0.7"},className:"step"})}))}))))},y=(t(14),new AudioContext);y.suspend();var C=y.createGain();C.gain.value=0,C.connect(y.destination);var E=y.createBiquadFilter();E.frequency.value=1e4,E.type="lowpass",E.Q.value=7;var j=y.createDelay();j.delayTime.value=.1;var g=y.createGain();g.gain.value=.5,j.connect(g),g.connect(j),j.connect(y.destination);var h,k=[],V=function(e,a){if(-1===w(e)){var t=y.createOscillator();t.connect(E),E.connect(C),C.connect(j),t.frequency.value=0,t.type=a,t.start(),k.push({id:e,osc:t})}},N=function(e,a){if(-1!==w(e))switch(function(e){var a=w(e);-1!==a&&(k[a].osc.disconnect(),k.splice(a,1))}(e),parseInt(a)){case 0:V(e,"sine");break;case 25:V(e,"triangle");break;case 50:V(e,"square");break;case 75:V(e,"sawtooth")}},S=function(e,a){k[w(e)]&&(k[w(e)].osc.frequency.value=a)},w=function(e){return k.findIndex((function(a){return a.id===e}))},F=t(17),x=c.a.createContext(),D=c.a.createContext(),q=[[261,293,329,349,392,440,493,523],[261,293,311,349,392,440,466,523]];function T(e,a){h=e;var t=Object(s.a)({},e),n=t.VCO1,c=t.VCO2,l=t.VCO3,r=t.VCF,o=t.Delay,u=t.VCA;switch(a.type){case"update-module":switch(a.payload.module){case"VCO1":(n=Object(s.a)({},n))[a.payload.property]=a.payload.value;break;case"VCO2":(c=Object(s.a)({},c))[a.payload.property]=a.payload.value;break;case"VCO3":(l=Object(s.a)({},l))[a.payload.property]=a.payload.value;break;case"VCF":(r=Object(s.a)({},r))[a.payload.property]=a.payload.value;break;case"Delay":(o=Object(s.a)({},o))[a.payload.property]=a.payload.value;break;case"VCA":(u=Object(s.a)({},u))[a.payload.property]=a.payload.value}return{VCO1:n,VCO2:c,VCO3:l,VCF:r,Delay:o,VCA:u};default:return u}}V(0,"sine"),V(1,"triangle"),V(2,"sawtooth");var A=function(){var e=Object(n.useReducer)(T,{VCO1:{detune:0,shape:0,octave:1},VCO2:{detune:0,shape:25,octave:1},VCO3:{detune:0,shape:75,octave:1},VCF:{frequency:4500,resonance:7,octave:1},Delay:{feedback:.5,time:.1},VCA:{gain:5}}),a=Object(o.a)(e,2),t=a[0],l=t.VCO1,r=t.VCO2,s=t.VCO3,u=t.VCF,i=t.Delay,m=t.VCA,d=a[1],v=Object(n.useState)(!1),b=Object(o.a)(v,2),O=b[0],V=b[1],A=Object(n.useState)(4e3),K=Object(o.a)(A,2),I=K[0],B=K[1],G=Object(n.useState)(0),H=Object(o.a)(G,2),P=H[0],J=H[1],M=Object(n.useState)(0),Q=Object(o.a)(M,2),R=Q[0],W=Q[1],$=Object(n.useState)(0),z=Object(o.a)($,2),L=z[0],U=z[1],X=Object(n.useState)([0,-1,-1,5,-1,-1,1,-1]),Y=Object(o.a)(X,2),Z=Y[0],_=Y[1],ee=Object(n.useState)([0,-1,7,5,2,-1,-1,4]),ae=Object(o.a)(ee,2),te=ae[0],ne=ae[1],ce=Object(n.useState)([0,-1,1,2,-1,5,6,-1]),le=Object(o.a)(ce,2),re=le[0],oe=le[1],se=Object(n.useState)(8),ue=Object(o.a)(se,2),ie=ue[0],me=ue[1],de=Object(n.useState)(8),pe=Object(o.a)(de,2),ve=pe[0],be=pe[1],Oe=Object(n.useState)(8),fe=Object(o.a)(Oe,2),ye=fe[0],Ce=fe[1],Ee=Object(n.useState)(8),je=Object(o.a)(Ee,2),ge=je[0],he=je[1],ke=Object(n.useState)(8),Ve=Object(o.a)(ke,2),Ne=Ve[0],Se=Ve[1],we=Object(n.useState)(8),Fe=Object(o.a)(we,2),xe=Fe[0],De=Fe[1],qe=Object(n.useState)(0),Te=Object(o.a)(qe,2),Ae=Te[0],Ke=Te[1],Ie=Object(n.useState)(0),Be=Object(o.a)(Ie,2),Ge=Be[0],He=Be[1],Pe=Object(n.useState)(0),Je=Object(o.a)(Pe,2),Me=Je[0],Qe=Je[1],Re=Object(n.useState)(0),We=Object(o.a)(Re,2),$e=We[0],ze=We[1],Le=Object(n.useState)(0),Ue=Object(o.a)(Le,2),Xe=Ue[0],Ye=Ue[1],Ze=Object(n.useState)(0),_e=Object(o.a)(Ze,2),ea=_e[0],aa=_e[1];Object(n.useEffect)((function(){O?(y.resume(),C.gain.value=.05):(y.suspend(),C.gain.value=0)}),[O]),Object(F.a)((function(){Se(ve),De(ye),he(ie)}),I/1),Object(F.a)((function(){q[P][Z[Ge%8]]>-1?Ke(q[P][Z[Ge%8]]):Ke(0),He(Ge+1)}),I/ge),Object(F.a)((function(){q[R][te[$e%8]]>-1?Qe(q[R][te[$e%8]]):Qe(0),ze($e+1)}),I/Ne),Object(F.a)((function(){q[L][re[ea%8]]>-1?Ye(q[L][re[ea%8]]):Ye(0),aa(ea+1)}),I/xe),Object(n.useEffect)((function(){S(0,Ae/l.octave)}),[Ae,l.octave]),Object(n.useEffect)((function(){S(1,Me/r.octave)}),[Me,r.octave]),Object(n.useEffect)((function(){S(2,Xe/s.octave)}),[Xe,s.octave]),Object(n.useEffect)((function(){ta("VCO1",l,0)}),[l]),Object(n.useEffect)((function(){ta("VCO2",r,1)}),[r]),Object(n.useEffect)((function(){ta("VCO3",s,2)}),[s]);var ta=function(e,a,t){h&&h[e].shape===a.shape||N(t,a.shape),h&&h[e].detune===a.detune||function(e,a){var t=w(e);-1!==t&&(k[t].osc.detune.value=a)}(t,a.detune)};return Object(n.useEffect)((function(){var e;e=u.frequency,E.frequency.value=e,function(e){E.Q.value=e}(u.resonance)}),[u]),Object(n.useEffect)((function(){var e;e=i.feedback,g.gain.value=e,function(e){j.delayTime.value=e}(i.time)}),[i]),Object(n.useEffect)((function(){var e;e=m.gain,C.gain.value=e/100}),[m]),c.a.createElement(c.a.Fragment,null,c.a.createElement(x.Provider,{value:{VCO1:l,VCO2:r,VCO3:s,VCF:u,Delay:i,VCA:m}},c.a.createElement(D.Provider,{value:d},c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"header"},c.a.createElement("div",null,c.a.createElement("input",{className:"slider sliderFull",type:"range",name:"bpm",id:"bpm",min:"4000",value:1e4-I,max:"6000",step:"500",onChange:function(e){B(1e4-e.target.value)}}),c.a.createElement("label",{htmlFor:"scale"},"Bpm")),c.a.createElement("h1",null,"wwwsynth"),c.a.createElement("div",null,c.a.createElement("button",{style:{backgroundColor:O?"indianred":"seagreen"},onClick:function(){return V(!O)}},O?"Mute":"Turn on Sound"))),c.a.createElement("div",{className:"sequencers"},c.a.createElement(f,{steps:Z,setOscSteps:_,clock:Ge,color:"coral",setOscClockDivide:me,clockDivide:ie,scale:P,setOscScale:J}),c.a.createElement(f,{steps:te,setOscSteps:ne,clock:$e,color:"paleturquoise",setOscClockDivide:be,clockDivide:ve,scale:R,setOscScale:W}),c.a.createElement(f,{steps:re,setOscSteps:oe,clock:ea,color:"#89edb7",setOscClockDivide:Ce,clockDivide:ye,scale:L,setOscScale:U})),c.a.createElement(p,null),c.a.createElement("div",{className:"footer"},c.a.createElement("a",{href:"https://github.com/prdingilian/synth-app"},"View on GitHub"))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,a,t){e.exports=t(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.a4d1784d.chunk.js.map