{"version":3,"sources":["components/vco/VCO.js","components/vcf/VCF.js","components/vca/VCA.js","components/delay/Delay.js","components/rack/Rack.js","components/stepSequencer/StepSequencer.js","webAudio.js","App.js","serviceWorker.js","index.js"],"names":["VCO","thisVCO","name","color","dispatch","useContext","DispatchContext","RackContext","VCO1","VCO2","VCO3","oscNumber","className","style","backgroundColor","type","id","min","value","detune","max","onChange","e","payload","module","property","parseInt","currentTarget","htmlFor","step","shape","octave","portamento","VCF","resonance","frequency","modulator","VCA","gain","Delay","feedback","time","Rack","stepArr","seqArr","StepSequencer","steps","setOscSteps","clock","setOscClockDivide","clockDivide","scale","setOscScale","target","map","seq","i","j","onClick","newSteps","length","handleStepClick","border","opacity","audioContext","window","AudioContext","webkitAudioContext","suspend","gainNode","createGain","connect","destination","filterNode","createBiquadFilter","Q","delayNode","createDelay","delayTime","delayFeedback","oscillators","createOsc","findOscIndex","osc","createOscillator","start","push","changeOscShape","index","disconnect","splice","removeOsc","changeOscFrequency","portamentoTime","linearRampToValueAtTime","currentTime","findIndex","entry","oldState","React","createContext","scales","reducer","state","action","App","useReducer","useState","active","setActive","bpm","setBpm","osc1Scale","setOsc1Scale","osc2Scale","setOsc2Scale","osc3Scale","setOsc3Scale","osc1Steps","setOsc1Steps","osc2Steps","setOsc2Steps","osc3Steps","setOsc3Steps","osc1ClockDivide","setOsc1ClockDivide","osc2ClockDivide","setOsc2ClockDivide","osc3ClockDivide","setOsc3ClockDivide","masterOsc1ClockDivide","setMasterOsc1ClockDivide","masterOsc2ClockDivide","setMasterOsc2ClockDivide","masterOsc3ClockDivide","setMasterOsc3ClockDivide","osc1Frequency","setOsc1Frequency","osc1Clock","setOsc1Clock","osc2Frequency","setOsc2Frequency","osc2Clock","setOsc2Clock","osc3Frequency","setOsc3Frequency","osc3Clock","setOsc3Clock","handleModulator","modulatorValue","modulatedFrequencyValue","handleOscSideEffects","oscName","oscRef","oscId","changeOscDetune","useEffect","resume","useInterval","changeFilterResonance","changeDelayTime","Provider","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.f2d593e0.chunk.js","sourcesContent":["import React, { useContext } from \"react\";\nimport { DispatchContext } from \"../../App\";\nimport { RackContext } from \"../../App\";\n\nfunction VCO({ name, color }) {\n  const dispatch = useContext(DispatchContext);\n  const { VCO1, VCO2, VCO3 } = useContext(RackContext);\n  let thisVCO;\n  let oscNumber = 0;\n  switch (name) {\n    case \"VCO1\":\n      thisVCO = VCO1;\n      oscNumber = 1;\n      break;\n    case \"VCO2\":\n      thisVCO = VCO2;\n      oscNumber = 2;\n      break;\n    case \"VCO3\":\n      thisVCO = VCO3;\n      oscNumber = 3;\n      break;\n    default:\n      break;\n  }\n\n  return (\n    <div className=\"container\" style={{ backgroundColor: color }}>\n      <div className=\"label\">{`Oscillator ${oscNumber}`}</div>\n      <div className=\"rowOneKnobHalfOne\">\n        <input\n          className=\"slider\"\n          type=\"range\"\n          name=\"detune\"\n          id=\"detune\"\n          min=\"0\"\n          value={thisVCO.detune}\n          max=\"50\"\n          onChange={(e) => {\n            dispatch({\n              type: \"update-module\",\n              payload: {\n                module: name,\n                property: \"detune\",\n                value: parseInt(e.currentTarget.value),\n              },\n            });\n          }}\n        />\n        <label htmlFor=\"gain\">Detune</label>\n      </div>\n\n      <div className=\"rowOneKnobHalfTwo\">\n        <input\n          className=\"slider\"\n          type=\"range\"\n          name=\"shape\"\n          id=\"shape\"\n          min=\"0\"\n          step=\"25\"\n          value={thisVCO.shape}\n          max=\"75\"\n          onChange={(e) => {\n            dispatch({\n              type: \"update-module\",\n              payload: {\n                module: name,\n                property: \"shape\",\n                value: parseInt(e.currentTarget.value),\n              },\n            });\n          }}\n        />\n        <label htmlFor=\"gain\">Shape</label>\n      </div>\n\n      <div className=\"rowTwoKnobHalfOne\">\n        <input\n          className=\"slider\"\n          type=\"range\"\n          name=\"octave\"\n          id=\"octave\"\n          min=\"1\"\n          step=\"1\"\n          value={5 - thisVCO.octave}\n          max=\"4\"\n          onChange={(e) => {\n            dispatch({\n              type: \"update-module\",\n              payload: {\n                module: name,\n                property: \"octave\",\n                value: 5 - e.currentTarget.value,\n              },\n            });\n          }}\n        />\n        <label htmlFor=\"octave\">Pitch</label>\n      </div>\n      <div className=\"rowTwoKnobHalfTwo\">\n        <input\n        className=\"slider\"\n        type=\"range\"\n        name=\"portamento\"\n        id=\"portamento\"\n        min=\"0\"\n        max=\"10\"\n        step=\"1\"\n        value={thisVCO.portamento * 10}\n        onChange={(e) => {\n          dispatch({\n            type: \"update-module\",\n            payload: {\n              module: name,\n              property: 'portamento',\n              value: e.currentTarget.value / 10\n            }\n          });\n        }}\n        />\n        <label htmlFor=\"portamento\">Portamento</label>\n      </div>\n    </div>\n  );\n}\n\nexport default VCO;\n","import React, { useContext } from \"react\";\nimport { DispatchContext } from \"../../App\";\nimport { RackContext } from \"../../App\";\n\nfunction VCF({ color }) {\n  const dispatch = useContext(DispatchContext);\n  const { VCF } = useContext(RackContext);\n\n  return (\n    <div className=\"container\" style={{ backgroundColor: color }}>\n      <div className=\"label\">Filter</div>\n      <div className=\"rowOneKnobHalfOne\">\n        <input\n          className=\"slider\"\n          type=\"range\"\n          name=\"resonance\"\n          id=\"resonance\"\n          min=\"0\"\n          value={VCF.resonance}\n          max=\"25\"\n          onChange={(e) => {\n            dispatch({\n              type: \"update-module\",\n              payload: {\n                module: \"VCF\",\n                property: \"resonance\",\n                value: e.currentTarget.value,\n              },\n            });\n          }}\n        />\n        <label htmlFor=\"resonance\">Resonance</label>\n      </div>\n      <div className=\"rowOneKnobHalfTwo\">\n        <input\n          className=\"slider\"\n          type=\"range\"\n          name=\"frequency\"\n          id=\"frequency\"\n          min=\"100\"\n          value={VCF.frequency}\n          max=\"9000\"\n          onChange={(e) => {\n            dispatch({\n              type: \"update-module\",\n              payload: {\n                module: \"VCF\",\n                property: \"frequency\",\n                value: e.currentTarget.value,\n              },\n            });\n          }}\n        />\n        <label htmlFor=\"frequency\">Frequency</label>\n      </div>\n      <div className=\"rowTwoKnobFull\">\n      <label htmlFor=\"modulator\">Modulator</label>\n        <select\n          name=\"modulator\"\n          value={VCF.modulator}\n          onChange={(e) => {\n          dispatch({\n            type: \"update-module\",\n            payload: {\n              module: \"VCF\",\n              property: \"modulator\",\n              value: e.currentTarget.value\n            }\n          });\n        }}>\n          <option value=\"none\">None</option>\n          <option value=\"osc1\">Oscillator 1</option>\n          <option value=\"osc2\">Oscillator 2</option>\n          <option value=\"osc3\">Oscillator 3</option>\n        </select>\n      </div>\n    </div>\n  );\n}\n\nexport default VCF;\n","import React, { useContext } from \"react\";\nimport { DispatchContext } from \"../../App\";\nimport { RackContext } from \"../../App\";\n\nfunction VCA({ color }) {\n  const dispatch = useContext(DispatchContext);\n  const { VCA } = useContext(RackContext);\n\n  return (\n    <div className=\"container\" style={{ backgroundColor: color }}>\n      <div className=\"label\">Amp</div>\n      <div className=\"rowOneKnobFull\">\n        <input\n          className=\"slider\"\n          type=\"range\"\n          name=\"gain\"\n          id=\"gain\"\n          min=\"0\"\n          value={VCA.gain}\n          max=\"10\"\n          onChange={(e) => {\n            dispatch({\n              type: \"update-module\",\n              payload: {\n                module: \"VCA\",\n                property: \"gain\",\n                value: e.currentTarget.value,\n              },\n            });\n          }}\n        />\n        <label htmlFor=\"gain\">Gain</label>\n      </div>\n    </div>\n  );\n}\n\nexport default VCA;\n","import React, { useContext } from \"react\";\nimport { DispatchContext } from \"../../App\";\nimport { RackContext } from \"../../App\";\n\nfunction Delay({ color }) {\n  const dispatch = useContext(DispatchContext);\n  const { Delay } = useContext(RackContext);\n\n  return (\n    <div className=\"container\" style={{ backgroundColor: color }}>\n      <div className=\"label\">Delay</div>\n      <div className=\"rowOneKnobFull\">\n        <input\n          className=\"slider\"\n          type=\"range\"\n          name=\"feedback\"\n          id=\"feedback\"\n          min=\"0\"\n          value={Delay.feedback * 10}\n          max=\"9\"\n          onChange={(e) => {\n            dispatch({\n              type: \"update-module\",\n              payload: {\n                module: \"Delay\",\n                property: \"feedback\",\n                value: e.currentTarget.value / 10,\n              },\n            });\n          }}\n        />\n        <label htmlFor=\"feedback\">Feedback</label>\n      </div>\n      <div className=\"rowTwoKnobFull\">\n        <input\n          className=\"slider\"\n          type=\"range\"\n          name=\"time\"\n          id=\"time\"\n          min=\"0\"\n          value={Delay.time * 10}\n          max=\"9\"\n          onChange={(e) => {\n            dispatch({\n              type: \"update-module\",\n              payload: {\n                module: \"Delay\",\n                property: \"time\",\n                value: e.currentTarget.value / 10,\n              },\n            });\n          }}\n        />\n        <label htmlFor=\"time\">Time</label>\n      </div>\n    </div>\n  );\n}\n\nexport default Delay;\n","import React from \"react\";\nimport VCO from \"../vco/VCO\";\nimport VCF from \"../vcf/VCF\";\nimport VCA from \"../vca/VCA\";\nimport Delay from \"../delay/Delay\";\n\nfunction Rack() {\n  return (\n    <div className=\"rackContainer\">\n      <div className=\"rackSlot\">\n        <VCO name=\"VCO1\" color=\"coral\" />\n      </div>\n      <div className=\"rackSlot\">\n        <VCO name=\"VCO2\" color=\"paleturquoise\" />\n      </div>\n      <div className=\"rackSlot\">\n        <VCO name=\"VCO3\" color=\"#89edb7\" />\n      </div>\n      <div className=\"rackSlot\">\n        <VCF color=\"aliceblue\" />\n      </div>\n      <div className=\"rackSlot\">\n        <Delay color=\"cornsilk\" />\n      </div>\n      <div className=\"rackSlot\">\n        <VCA color=\"lavender\" />\n      </div>\n    </div>\n  );\n}\n\nexport default Rack;\n","import React from \"react\";\n\nlet stepArr = [0, 1, 2, 3, 4, 5, 6, 7];\nlet seqArr = [0, 1, 2, 3, 4, 5, 6, 7];\n\nfunction StepSequencer({\n  steps,\n  setOscSteps,\n  clock,\n  color,\n  setOscClockDivide,\n  clockDivide,\n  scale,\n  setOscScale,\n}) {\n  function handleStepClick(i, j) {\n    let newSteps = [...steps];\n    if (newSteps[j] === stepArr.length - 1 - i) {\n      newSteps[j] = -1;\n    } else {\n      newSteps[j] = stepArr.length - 1 - i;\n    }\n    setOscSteps(newSteps);\n  }\n\n  return (\n    <div className=\"allSeq\">\n      <div className=\"seqParams\">\n        <div>\n          <input\n            className=\"slider\"\n            type=\"range\"\n            name=\"clockDivide\"\n            id=\"clockDivide\"\n            min=\"0\"\n            value={clockDivide}\n            max=\"16\"\n            step=\"4\"\n            onChange={(e) => {\n              setOscClockDivide(parseInt(e.target.value));\n            }}\n          />\n          <label htmlFor=\"clockDivide\">Clock</label>\n        </div>\n        <div>\n          <input\n            className=\"slider\"\n            type=\"range\"\n            name=\"scale\"\n            id=\"scale\"\n            min=\"0\"\n            value={scale}\n            max=\"1\"\n            step=\"1\"\n            onChange={(e) => {\n              setOscScale(parseInt(e.target.value));\n            }}\n          />\n          <label htmlFor=\"scale\">Scale</label>\n        </div>\n      </div>\n      <div className=\"seqContainer\">\n        {stepArr.map((seq, i) => {\n          return seqArr.map((step, j) => (\n            <div\n              onClick={() => handleStepClick(i, j)}\n              style={{\n                backgroundColor:\n                  steps[j] >= stepArr.length - 1 - i ? color : \"white\",\n                border:\n                  (clock - 1) % 8 === j\n                    ? \"1px solid blue\"\n                    : \"1px solid lightgrey\",\n                opacity: (clock - 1) % 8 === j ? \"1\" : \"0.7\",\n              }}\n              className=\"step\"\n            ></div>\n          ));\n        })}\n      </div>\n    </div>\n  );\n}\n\nexport default StepSequencer;\n","const AudioContext = window.AudioContext || window.webkitAudioContext;\nconst audioContext = new AudioContext();\naudioContext.suspend();\nconst gainNode = audioContext.createGain();\ngainNode.gain.value = 0;\ngainNode.connect(audioContext.destination);\nconst filterNode = audioContext.createBiquadFilter();\nfilterNode.frequency.value = 10000;\nfilterNode.type = \"lowpass\";\nfilterNode.Q.value = 7;\nconst delayNode = audioContext.createDelay();\ndelayNode.delayTime.value = 0.1;\nconst delayFeedback = audioContext.createGain();\ndelayFeedback.gain.value = 0.5;\ndelayNode.connect(delayFeedback);\ndelayFeedback.connect(delayNode);\ndelayNode.connect(audioContext.destination);\nconst oscillators = [];\n\nexport function createOsc(id, type) {\n  if (findOscIndex(id) === -1) {\n    let osc = audioContext.createOscillator();\n    osc.connect(filterNode);\n    filterNode.connect(gainNode);\n    gainNode.connect(delayNode);\n    osc.frequency.value = 0;\n    osc.type = type;\n    osc.start();\n    oscillators.push({ id: id, osc: osc });\n  }\n}\n\nexport function removeOsc(id) {\n  let index = findOscIndex(id);\n  if (index !== -1) {\n    oscillators[index].osc.disconnect();\n    oscillators.splice(index, 1);\n  }\n}\n\nexport function changeOscShape(id, value) {\n  let index = findOscIndex(id);\n  if (index !== -1) {\n    removeOsc(id);\n    switch (parseInt(value)) {\n      case 0:\n        createOsc(id, \"sine\");\n        break;\n      case 25:\n        createOsc(id, \"triangle\");\n        break;\n      case 50:\n        createOsc(id, \"square\");\n        break;\n      case 75:\n        createOsc(id, \"sawtooth\");\n        break;\n      default:\n        break;\n    }\n  }\n}\n\nexport function changeOscDetune(id, value) {\n  let index = findOscIndex(id);\n  if (index !== -1) {\n    oscillators[index].osc.detune.value = value;\n  }\n}\n\nexport function changeOscFrequency(id, value, portamentoTime) {\n  if (oscillators[findOscIndex(id)]) {\n    oscillators[findOscIndex(id)].osc.frequency.linearRampToValueAtTime(value, audioContext.currentTime + portamentoTime);\n    // oscillators[findOscIndex(id)].osc.frequency.value = value;\n  }\n}\n\nexport function createAmp() {\n  audioContext.resume();\n  gainNode.gain.value = 0.05;\n}\n\nexport function removeAmp() {\n  audioContext.suspend();\n  gainNode.gain.value = 0;\n}\n\nexport function createFilter() {\n  filterNode.frequency.value = 4500;\n}\n\nexport function removeFilter() {\n  filterNode.frequency.value = 10000;\n}\n\nexport function changeFilterFrequency(value) {\n  filterNode.frequency.linearRampToValueAtTime(value, audioContext.currentTime + 0.2);\n}\n\nexport function changeFilterResonance(value) {\n  filterNode.Q.value = value;\n}\n\nexport function changeGain(value) {\n  gainNode.gain.value = value / 100;\n}\n\nexport function changeDelayTime(value) {\n  delayNode.delayTime.value = value;\n}\n\nexport function changeDelayFeedback(value) {\n  delayFeedback.gain.value = value;\n}\n\nfunction findOscIndex(id) {\n  return oscillators.findIndex((entry) => entry.id === id);\n}\n","import React, { useReducer, useEffect, useState } from \"react\";\nimport Rack from \"./components/rack/Rack\";\nimport StepSequencer from \"./components/stepSequencer/StepSequencer\";\nimport \"./App.css\";\nimport {\n  createAmp,\n  createOsc,\n  removeAmp,\n  changeFilterFrequency,\n  changeFilterResonance,\n  changeGain,\n  changeOscFrequency,\n  changeOscShape,\n  changeOscDetune,\n  changeDelayTime,\n  changeDelayFeedback,\n} from \"./webAudio\";\nimport { useInterval } from \"react-use\";\n\nexport const RackContext = React.createContext();\nexport const DispatchContext = React.createContext();\n\nlet oldState;\nlet scales = [\n  [261, 293, 329, 349, 392, 440, 493, 523],\n  [261, 293, 311, 349, 392, 440, 466, 523],\n];\ncreateOsc(0, \"sine\");\ncreateOsc(1, \"triangle\");\ncreateOsc(2, \"sawtooth\");\n\nfunction reducer(state, action) {\n  oldState = state;\n  let { VCO1, VCO2, VCO3, VCF, Delay, VCA } = { ...state };\n  switch (action.type) {\n    case \"update-module\":\n      switch (action.payload.module) {\n        case \"VCO1\":\n          VCO1 = { ...VCO1 };\n          VCO1[action.payload.property] = action.payload.value;\n          break;\n        case \"VCO2\":\n          VCO2 = { ...VCO2 };\n          VCO2[action.payload.property] = action.payload.value;\n          break;\n        case \"VCO3\":\n          VCO3 = { ...VCO3 };\n          VCO3[action.payload.property] = action.payload.value;\n          break;\n        case \"VCF\":\n          VCF = { ...VCF };\n          VCF[action.payload.property] = action.payload.value;\n          break;\n        case \"Delay\":\n          Delay = { ...Delay };\n          Delay[action.payload.property] = action.payload.value;\n          break;\n        case \"VCA\":\n          VCA = { ...VCA };\n          VCA[action.payload.property] = action.payload.value;\n          break;\n        default:\n          break;\n      }\n      return { VCO1, VCO2, VCO3, VCF, Delay, VCA };\n    default:\n      return VCO1, VCO2, VCO3, VCF, Delay, VCA;\n  }\n}\n\nfunction App() {\n  const [{ VCO1, VCO2, VCO3, VCF, Delay, VCA }, dispatch] = useReducer(\n    reducer,\n    {\n      VCO1: {\n        detune: 0,\n        shape: 75,\n        octave: 4,\n        portamento: 0\n      },\n      VCO2: {\n        detune: 0,\n        shape: 25,\n        octave: 1,\n        portamento: 0\n      },\n      VCO3: {\n        detune: 6,\n        shape: 75,\n        octave: 2,\n        portamento: 0\n      },\n      VCF: {\n        frequency: 2000,\n        resonance: 14,\n        modulator: 'osc2',\n      },\n      Delay: { feedback: 0.3, time: 0.5 },\n      VCA: { gain: 5 }\n    }\n  );\n\n  let [active, setActive] = useState(false);\n  let [bpm, setBpm] = useState(4000);\n\n  let [osc1Scale, setOsc1Scale] = useState(0);\n  let [osc2Scale, setOsc2Scale] = useState(0);\n  let [osc3Scale, setOsc3Scale] = useState(0);\n  let [osc1Steps, setOsc1Steps] = useState([0, -1, -1, 3, -1, -1, 1, -1]);\n  let [osc2Steps, setOsc2Steps] = useState([7, 6, 2, -1, -1, 0, -1, 4]);\n  let [osc3Steps, setOsc3Steps] = useState([2, -1, -1, 1, 2,4, -1, 7]);\n  let [osc1ClockDivide, setOsc1ClockDivide] = useState(8);\n  let [osc2ClockDivide, setOsc2ClockDivide] = useState(8);\n  let [osc3ClockDivide, setOsc3ClockDivide] = useState(16);\n  let [masterOsc1ClockDivide, setMasterOsc1ClockDivide] = useState(8);\n  let [masterOsc2ClockDivide, setMasterOsc2ClockDivide] = useState(8);\n  let [masterOsc3ClockDivide, setMasterOsc3ClockDivide] = useState(16);\n  const [osc1Frequency, setOsc1Frequency] = useState(0);\n  const [osc1Clock, setOsc1Clock] = useState(0);\n  const [osc2Frequency, setOsc2Frequency] = useState(0);\n  const [osc2Clock, setOsc2Clock] = useState(0);\n  const [osc3Frequency, setOsc3Frequency] = useState(0);\n  const [osc3Clock, setOsc3Clock] = useState(0);\n\n  useEffect(() => {\n    active ? createAmp() : removeAmp();\n  }, [active]);\n\n  // Update individual osc clocks on next master clock cycle\n  useInterval(() => {\n    setMasterOsc2ClockDivide(osc2ClockDivide);\n    setMasterOsc3ClockDivide(osc3ClockDivide);\n    setMasterOsc1ClockDivide(osc1ClockDivide);\n  }, bpm);\n\n  // For each osc, update its frequency as its clock runs\n  useInterval(() => {\n    if (scales[osc1Scale][osc1Steps[osc1Clock % 8]] > -1) {\n      setOsc1Frequency(scales[osc1Scale][osc1Steps[osc1Clock % 8]]);\n    } else {\n      setOsc1Frequency(0);\n    }\n    if (VCF.modulator === 'osc1') {\n      handleModulator(osc1Steps[osc1Clock % 8])\n    }\n    setOsc1Clock(osc1Clock + 1);\n  }, bpm / masterOsc1ClockDivide);\n\n  useInterval(() => {\n    if (scales[osc2Scale][osc2Steps[osc2Clock % 8]] > -1) {\n      setOsc2Frequency(scales[osc2Scale][osc2Steps[osc2Clock % 8]]);\n    } else {\n      setOsc2Frequency(0);\n    }\n    if (VCF.modulator === 'osc2') {\n      handleModulator(osc2Steps[osc2Clock % 8])\n    }\n    setOsc2Clock(osc2Clock + 1);\n  }, bpm / masterOsc2ClockDivide);\n\n  useInterval(() => {\n    if (scales[osc3Scale][osc3Steps[osc3Clock % 8]] > -1) {\n      setOsc3Frequency(scales[osc3Scale][osc3Steps[osc3Clock % 8]]);\n    } else {\n      setOsc3Frequency(0);\n    }\n    if (VCF.modulator === 'osc3') {\n      handleModulator(osc3Steps[osc3Clock % 8])\n    }\n    setOsc3Clock(osc3Clock + 1);\n  }, bpm / masterOsc3ClockDivide);\n\n  // Update each oscs pitch/frequency divider\n  useEffect(() => {\n    changeOscFrequency(0, osc1Frequency / VCO1.octave, VCO1.portamento);\n  }, [osc1Frequency, VCO1.octave]);\n\n  useEffect(() => {\n    changeOscFrequency(1, osc2Frequency / VCO2.octave, VCO2.portamento);\n  }, [osc2Frequency, VCO2.octave]);\n\n  useEffect(() => {\n    changeOscFrequency(2, osc3Frequency / VCO3.octave, VCO3.portamento);\n  }, [osc3Frequency, VCO3.octave]);\n\n  // Update each oscs shape & detune\n  useEffect(() => {\n    handleOscSideEffects(\"VCO1\", VCO1, 0);\n  }, [VCO1]);\n\n  useEffect(() => {\n    handleOscSideEffects(\"VCO2\", VCO2, 1);\n  }, [VCO2]);\n\n  useEffect(() => {\n    handleOscSideEffects(\"VCO3\", VCO3, 2);\n  }, [VCO3]);\n\n  useEffect(() => {\n    changeFilterFrequency(VCF.frequency);\n    changeFilterResonance(VCF.resonance);\n  }, [VCF]);\n\n  useEffect(() => {\n    changeDelayFeedback(Delay.feedback);\n    changeDelayTime(Delay.time);\n  }, [Delay]);\n\n  useEffect(() => {\n    changeGain(VCA.gain);\n  }, [VCA]);\n\n  function handleModulator(modulatorValue) {\n    let modulatedFrequencyValue;\n    if (modulatorValue === -1) {\n      modulatedFrequencyValue = 100;\n    } else {\n      modulatorValue++;\n      modulatedFrequencyValue = (modulatorValue * 9000) / 8;\n    }\n    dispatch({\n      type: \"update-module\",\n      payload: {\n        module: \"VCF\",\n        property: \"frequency\",\n        value: modulatedFrequencyValue\n      }\n    });\n  }\n\n  function handleOscSideEffects(oscName, oscRef, oscId) {\n    if (!oldState || oldState[oscName].shape !== oscRef.shape) {\n      changeOscShape(oscId, oscRef.shape);\n    }\n    if (!oldState || oldState[oscName].detune !== oscRef.detune) {\n      changeOscDetune(oscId, oscRef.detune);\n    }\n  };\n  \n\n  return (\n    <>\n      <RackContext.Provider value={{ VCO1, VCO2, VCO3, VCF, Delay, VCA }}>\n        <DispatchContext.Provider value={dispatch}>\n          <div className=\"App\">\n            <div className=\"header\">\n              <div>\n                <input\n                  className=\"slider\"\n                  type=\"range\"\n                  name=\"bpm\"\n                  id=\"bpm\"\n                  min=\"4000\"\n                  value={10000 - bpm}\n                  max=\"6000\"\n                  step=\"500\"\n                  onChange={(e) => {\n                    setBpm(10000 - e.target.value);\n                  }}\n                />\n                <label htmlFor=\"scale\">Bpm</label>\n              </div>\n              <h1 className=\"title\"><span className=\"spanOne\">Sequencer</span> <span className=\"spanTwo\">Synthesizer</span></h1>\n              <div>\n                <button\n                  style={{\n                    backgroundColor: active ? \"indianred\" : \"seagreen\",\n                  }}\n                  onClick={() => setActive(!active)}\n                >\n                  {active ? \"Mute\" : \"Turn on Sound\"}\n                </button>\n              </div>\n            </div>\n            <div className=\"sequencers\">\n              <StepSequencer\n                steps={osc1Steps}\n                setOscSteps={setOsc1Steps}\n                clock={osc1Clock}\n                color=\"coral\"\n                setOscClockDivide={setOsc1ClockDivide}\n                clockDivide={osc1ClockDivide}\n                scale={osc1Scale}\n                setOscScale={setOsc1Scale}\n              />\n              <StepSequencer\n                steps={osc2Steps}\n                setOscSteps={setOsc2Steps}\n                clock={osc2Clock}\n                color=\"paleturquoise\"\n                setOscClockDivide={setOsc2ClockDivide}\n                clockDivide={osc2ClockDivide}\n                scale={osc2Scale}\n                setOscScale={setOsc2Scale}\n              />\n              <StepSequencer\n                steps={osc3Steps}\n                setOscSteps={setOsc3Steps}\n                clock={osc3Clock}\n                color=\"#89edb7\"\n                setOscClockDivide={setOsc3ClockDivide}\n                clockDivide={osc3ClockDivide}\n                scale={osc3Scale}\n                setOscScale={setOsc3Scale}\n              />\n            </div>\n            <Rack />\n          </div>\n        </DispatchContext.Provider>\n      </RackContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}